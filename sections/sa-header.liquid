<style>
      header.srs-header {
  background: {{ section.settings.header_background }};
  padding: 20px;
  }
  header.srs-header .srs-container{
  max-width:1218px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  }
  header.srs-header .srs-container .srs-header-left{
  display: flex;
  align-items: center;
  gap: 31px;
  }
  header.srs-header .srs-container .srs-header-left .srs-search-form{
  background: {{ section.settings.search_background }};
  width: 310px;
  display: flex;
  justify-content: space-between;
  height: 36px;
  border-radius: 5px;
  }
  header.srs-header .srs-container .srs-header-left .srs-search-form input{
  background: transparent;
  outline: none;
  border: none;
  padding-left: 12px;
  font-family: "Museo Sans Cyrl", sans-serif;
  font-weight: 400;
  font-size: 12px;
  line-height: 100%;
  letter-spacing: 0%;
  vertical-align: middle;
  color: #05203E;
  }
  header.srs-header .srs-container .srs-header-left .srs-search-form input:focus-visible{
      outline: none;
      box-shadow: none;
  }
  header.srs-header .srs-container .srs-header-left .srs-search-form button{
  padding-right: 12px;
  background: transparent;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  }
  header.srs-header .srs-container .srs-header-right{
  display: flex;
  align-items: center;
  gap: 12px;
  }
  header.srs-header .srs-container .srs-header-right .auth-btn{
  background: linear-gradient(89.92deg, {{ section.settings.button_gradient_start }} 7.2%, {{ section.settings.button_gradient_end }} 99.74%);
  color: #fff;
  font-family: Lato;
  font-weight: 400;
  font-size: 16px;
  leading-trim: Cap height;
  line-height: 29px;
  letter-spacing: 0%;
  text-align: center;
  vertical-align: middle;
  padding: 10px 16px;
  border-radius: 3px;
  text-decoration: none;
  transition: all 0.3s ease;
  }
  header.srs-header .srs-container .srs-header-right .auth-btn:hover{
  opacity: 0.9;
  transform: translateY(-1px);
  }
  header.srs-header .srs-container .srs-header-right .login-btn{
  background: transparent;
  color: #05203E;
  outline: 1px solid {{ section.settings.button_gradient_start }};
  outline-offset: -1px;
  }
  header.srs-header .srs-container .srs-header-right .login-btn:hover{
  background: linear-gradient(89.92deg, {{ section.settings.button_gradient_start }} 7.2%, {{ section.settings.button_gradient_end }} 99.74%);
  color: #fff;
  border-color: transparent;
  }
  header.srs-header .srs-container .srs-header-right .profile-btn{
  background: linear-gradient(89.92deg, {{ section.settings.button_gradient_start }} 7.2%, {{ section.settings.button_gradient_end }} 99.74%);
  color: #fff;
  font-family: Lato;
  font-weight: 400;
  font-size: 16px;
  leading-trim: Cap height;
  line-height: 29px;
  letter-spacing: 0%;
  text-align: center;
  vertical-align: middle;
  padding: 10px 16px;
  border-radius: 3px;
  text-decoration: none;
  transition: all 0.3s ease;
  }
  header.srs-header .srs-container .srs-header-right .profile-btn:hover{
  opacity: 0.9;
  transform: translateY(-1px);
  }

  /* Mobile Search Popup */
  .srs-search-popup {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  opacity: 0;
  transition: opacity 0.3s ease;
  }

  .srs-search-popup.active {
  display: flex;
  opacity: 1;
  }

  .srs-search-popup-content {
  background: white;
  width: 90%;
  max-width: 400px;
  margin: 20% auto;
  padding: 20px;
  border-radius: 10px;
  position: relative;
  transform: translateY(-20px);
  transition: transform 0.3s ease;
  }

  .srs-search-popup.active .srs-search-popup-content {
  transform: translateY(0);
  }

  .srs-search-popup-close {
  position: absolute;
  top: 10px;
  right: 15px;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #666;
  }

  .srs-search-popup-form {
  background: {{ section.settings.search_background }};
  display: flex;
  justify-content: space-between;
  height: 44px;
  border-radius: 5px;
  margin-top: 10px;
  }

  .srs-search-popup-form input {
  background: transparent;
  outline: none;
  border: none;
  padding-left: 15px;
  font-family: "Museo Sans Cyrl", sans-serif;
  font-weight: 400;
  font-size: 16px;
  color: #05203E;
  flex: 1;
  }

  .srs-search-popup-form button {
  padding-right: 15px;
  background: transparent;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  }

  /* Mobile Auth Icons */
  .srs-auth-icon {
  display: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: linear-gradient(89.92deg, {{ section.settings.button_gradient_start }} 7.2%, {{ section.settings.button_gradient_end }} 99.74%);
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  }

  .srs-auth-icon:hover {
  opacity: 0.9;
  transform: scale(1.05);
  }

  .srs-auth-icon.login-icon {
  background: transparent;
  color: {{ section.settings.button_gradient_start }};
  border: 2px solid {{ section.settings.button_gradient_start }};
  }

  .srs-auth-icon.login-icon:hover {
  background: linear-gradient(89.92deg, {{ section.settings.button_gradient_start }} 7.2%, {{ section.settings.button_gradient_end }} 99.74%);
  color: white;
  border-color: transparent;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
  header.srs-header {
  padding: 15px 10px;
  }

  header.srs-header .srs-container {
  flex-direction: row;
  gap: 15px;
  }

  header.srs-header .srs-container .srs-header-left {
  width: 100%;
  justify-content: space-between;
  gap: 15px;
  }

  header.srs-header .srs-container .srs-header-left .srs-search-form {
  display: none; /* Hide search form on mobile */
  }

  header.srs-header .srs-container .srs-header-left .srs-header-left-logo img {
  max-width: 120px;
  height: auto;
  }

  header.srs-header .srs-container .srs-header-right {
  gap: 8px;
  }

  header.srs-header .srs-container .srs-header-right .auth-btn,
  header.srs-header .srs-container .srs-header-right .profile-btn {
  display: none; /* Hide text buttons on mobile */
  }

  /* Show auth icons on mobile */
  .srs-auth-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  }
  }

  @media (max-width: 480px) {
  header.srs-header {
  padding: 10px 8px;
  }

  header.srs-header .srs-container .srs-header-left {
  flex-direction: row;
  gap: 10px;
  width: 100%;
  }

  header.srs-header .srs-container .srs-header-left .srs-header-left-logo {
  align-self: center;
  }

  header.srs-header .srs-container .srs-header-left .srs-header-left-logo img {
  max-width: 100px;
  height: auto;
  }

  header.srs-header .srs-container .srs-header-right {
  width: auto;
  display: flex;
  justify-content: flex-end;
  gap: 8px;
  }

  .srs-auth-icon {
  width: 36px;
  height: 36px;
  font-size: 16px;
  }
  }

  @media (max-width: 320px) {
  header.srs-header .srs-container .srs-header-left .srs-header-left-logo img {
  max-width: 80px;
  }

  .srs-auth-icon {
  width: 32px;
  height: 32px;
  font-size: 14px;
  }
  }
</style>

<header class="srs-header">
  <div class="srs-container">
    <div class="srs-header-left">
      <div class="srs-header-left-logo">
        <a
          href="{% if section.settings.logo_link != blank %}{{ section.settings.logo_link }}{% else %}{{ routes.root_url }}{% endif %}"
          class="srs-logo-wrapper"
        >
          {%- if section.settings.logo != blank -%}
            {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
            {%- assign logo_height = section.settings.logo_width | divided_by: section.settings.logo.aspect_ratio -%}
            {{
              section.settings.logo
              | image_url: width: section.settings.logo_width
              | image_tag:
                class: 'srs-logo',
                widths: '60, 100, 150, 200',
                width: section.settings.logo_width,
                height: logo_height,
                alt: logo_alt
            }}
          {%- else -%}
            <img
              src="https://placehold.co/{{ section.settings.logo_width }}x{{ section.settings.logo_width | divided_by: 2.25 }}"
              alt="{{ shop.name }}"
              width="{{ section.settings.logo_width }}"
              height="{{ section.settings.logo_width | divided_by: 2.25 }}"
              class="srs-logo"
            >
          {%- endif -%}
        </a>
      </div>
      {%- if section.settings.show_search -%}
        <form action="{{ routes.search_url }}" method="get" class="srs-search-form">
          <input
            type="text"
            name="q"
            placeholder="{{ 'general.search.search' | t }}"
            class="srs-search-input"
            value="{{ search.terms | escape }}"
          >
          <button type="submit" class="srs-search-button">
            <svg
              width="18"
              height="17"
              viewBox="0 0 18 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_1_2734)">
                  <path
                      d="M16.5738 13.831L13.4338 10.691C14.2288 9.533 14.6338 8.179 14.6338 6.839C14.6338 5.081 13.9648 3.336 12.6378 1.996C11.2978 0.67 9.55285 0 7.79485 0C6.04985 0 4.30585 0.67 2.96585 1.996C1.63985 3.336 0.969849 5.08 0.969849 6.839C0.969849 8.584 1.63985 10.328 2.96585 11.669C4.30585 12.994 6.05085 13.665 7.79485 13.665C9.14885 13.665 10.5028 13.274 11.6608 12.479L14.8018 15.605C15.2898 16.108 16.0858 16.108 16.5748 15.605C17.0618 15.115 17.0618 14.32 16.5738 13.831ZM11.4638 10.495C10.4708 11.505 9.16185 12.002 7.83685 12.002C6.52885 12.002 5.21985 11.505 4.22685 10.495C3.21685 9.501 2.71985 8.193 2.71985 6.884C2.71985 5.576 3.21685 4.251 4.22685 3.257C5.22085 2.263 6.52885 1.75 7.83685 1.75C9.16185 1.75 10.4708 2.263 11.4638 3.257C12.4578 4.251 12.9708 5.576 12.9708 6.884C12.9718 8.193 12.4748 9.501 11.4638 10.495Z"
                      fill="#05203E" />
              </g>
              <defs>
                  <clippath id="clip0_1_2734">
                      <rect width="17" height="17"
                          fill="white"
                          transform="translate(0.969849)" />
                  </clippath>
              </defs>
            </svg>
          </button>
        </form>
      {%- endif -%}
    </div>
    {%- if section.settings.show_customer_buttons -%}
      <div class="srs-header-right">
        {%- if shop.customer_accounts_enabled -%}
          {%- if customer -%}
            <!-- User is logged in - show profile button -->
            <a href="{{ routes.account_url }}" class="profile-btn">
              {{ 'customer.account_fallback' | t }}
            </a>
            <!-- Mobile profile icon -->
            <button class="srs-auth-icon" onclick="window.location.href='{{ routes.account_url }}'">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
              </svg>
            </button>
          {%- else -%}
            <!-- User is not logged in - show login and signup buttons -->
            <a href="{{ routes.account_login_url }}" class="auth-btn login-btn">
              {{ 'customer.log_in' | t }}
            </a>
            <a href="{{ routes.account_register_url }}" class="auth-btn">
              {{ 'customer.register.title' | t }}
            </a>
            <!-- Mobile auth icons -->
            <button class="srs-auth-icon login-icon" onclick="window.location.href='{{ routes.account_login_url }}'">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 7L9.6 8.4L12.2 11H2V13H12.2L9.6 15.6L11 17L16 12L11 7ZM20 19H12V21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3H12V5H20V19Z" fill="currentColor"/>
              </svg>
            </button>
            <!--
              <button class="srs-auth-icon" onclick="window.location.href='{{ routes.account_register_url }}'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 4V2H9V4H3V6H9V8H15V6H21V4H15ZM3 10V12H21V10H3ZM3 16V18H21V16H3Z" fill="currentColor"/>
                </svg>
              </button>
            -->
          {%- endif -%}
        {%- else -%}
          <!-- Customer accounts disabled - show signup button only -->
          <a href="#" class="auth-btn">
            {{ 'customer.register.title' | t }}
          </a>
          <!-- Mobile signup icon -->
          <button class="srs-auth-icon" onclick="window.location.href='#'">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 4V2H9V4H3V6H9V8H15V6H21V4H15ZM3 10V12H21V10H3ZM3 16V18H21V16H3Z" fill="currentColor"/>
            </svg>
          </button>
        {%- endif -%}
        <!-- Mobile search icon -->
        {%- if section.settings.show_search -%}
          <button class="srs-auth-icon" onclick="openSearchPopup()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="currentColor"/>
            </svg>
          </button>
        {%- endif -%}
      </div>
    {%- endif -%}
  </div>
</header>

<!-- Mobile Search Popup -->
{%- if section.settings.show_search -%}
  <div id="searchPopup" class="srs-search-popup">
    <div class="srs-search-popup-content">
      <button class="srs-search-popup-close" onclick="closeSearchPopup()">&times;</button>
      <h3>{{ 'general.search.search' | t }}</h3>
      <form action="{{ routes.search_url }}" method="get" class="srs-search-popup-form">
        <input
          type="text"
          name="q"
          placeholder="{{ 'general.search.search' | t }}"
          value="{{ search.terms | escape }}"
          autofocus
        >
        <button type="submit">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.5 14H14.71L14.43 13.73C15.41 12.59 16 11.11 16 9.5C16 5.91 13.09 3 9.5 3C5.91 3 3 5.91 3 9.5C3 13.09 5.91 16 9.5 16C11.11 16 12.59 15.41 13.73 14.43L14 14.71V15.5L19 20.49L20.49 19L15.5 14ZM9.5 14C7.01 14 5 11.99 5 9.5C5 7.01 7.01 5 9.5 5C11.99 5 14 7.01 14 9.5C14 11.99 11.99 14 9.5 14Z" fill="#05203E"/>
          </svg>
        </button>
      </form>
    </div>
  </div>

  <script>
    function openSearchPopup() {
        document.getElementById('searchPopup').classList.add('active');
        document.body.style.overflow = 'hidden';
    }

    function closeSearchPopup() {
        document.getElementById('searchPopup').classList.remove('active');
        document.body.style.overflow = 'auto';
    }

    // Close popup when clicking outside
    document.getElementById('searchPopup').addEventListener('click', function(e) {
        if (e.target === this) {
            closeSearchPopup();
        }
    });

    // Close popup with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeSearchPopup();
        }
    });
  </script>
{%- endif -%}

{% schema %}
{
  "name": "SA Header",
  "settings": [
    {
      "type": "header",
      "content": "Logo Settings"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Logo width",
      "default": 90
    },
    {
      "type": "url",
      "id": "logo_link",
      "label": "Logo link",
      "info": "Optional. Defaults to home page"
    },
    {
      "type": "header",
      "content": "Header Settings"
    },
    {
      "type": "checkbox",
      "id": "show_search",
      "label": "Show search bar",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_customer_buttons",
      "label": "Show customer account buttons",
      "default": true
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "header_background",
      "label": "Header background color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "search_background",
      "label": "Search bar background color",
      "default": "#FFF4F0"
    },
    {
      "type": "color",
      "id": "button_gradient_start",
      "label": "Button gradient start color",
      "default": "#FF9327"
    },
    {
      "type": "color",
      "id": "button_gradient_end",
      "label": "Button gradient end color",
      "default": "#FF6A2B"
    }
  ],
  "presets": [
    {
      "name": "SA Header"
    }
  ]
}
{% endschema %}
